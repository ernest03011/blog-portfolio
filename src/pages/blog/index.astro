---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import Layout from "@layouts/BaseLayout.astro";
import PostPreview from "@components/PostPreview.astro";
import Heading from "@components/Heading.astro";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title="Blog page" description="A list of my posts">
  <section class="pt-4">
    <Heading title="Welcome to the Blog!" hasSeparator={true} />
  </section>
  <section class="text-content">
    {posts.map((post) => <PostPreview post={post} variant="moderate" />)}
  </section>
</Layout>
